(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a804"],{bc7d:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.booking?n("booking-form",{attrs:{booking:t.booking,dayNumber:t.dayNumber,btnDisabled:t.btnDisabled,today:t.today,locations:t.locations,tomorrow:t.tomorrow},on:{"count-day":t.countDay,save:t.saveBooking,checkout:t.checkout}}):t._e()},i=[],s=n("8f95"),r=n("2f62");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){u(t,e,n[e])})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={components:{BookingForm:s["a"]},data:function(){return{bookingId:null,btnDisabled:!1,locations:[{text:"Huế",value:"Huế"},{text:"Đà Nẵng",value:"Đà Nẵng"},{text:"Hội An",value:"Hội An"}]}},computed:a({},Object(r["c"])(["isSignedIn","signedInUser","bookingById"]),{deGetTime:function(){return(new Date(this.booking.start.date).getTime()+36e5*this.getDeHour+6e4*this.getDeMin)/864e5},reGetTime:function(){return(new Date(this.booking.end.date).getTime()+36e5*this.getReHour+6e4*this.getReMin)/864e5},dayNumber:function(){return this.countDay(this.deGetTime,this.reGetTime)},getDeHour:function(){return new Date(this.booking.start.date+","+this.booking.start.time).getHours()},getDeMin:function(){return new Date(this.booking.start.date+","+this.booking.start.time).getMinutes()},getReHour:function(){return new Date(this.booking.end.date+","+this.booking.end.time).getHours()},getReMin:function(){return new Date(this.booking.end.date+","+this.booking.end.time).getMinutes()},today:function(){return(new Date).toISOString().substring(0,10)},tomorrow:function(){return this.getTomorrow(this.booking.start.date)},bookingIsValid:function(){return null!==this.booking.start.date&&""!==this.booking.start.location.value&&""!==this.booking.start.address&&null!==this.booking.start.time&&null!==this.booking.end.date&&""!==this.booking.end.location.value&&""!==this.booking.end.address&&null!==this.booking.end.time&&this.booking.quantity>0&&this.dayNumber>0},booking:function(){return this.bookingById(this.bookingId)}}),mounted:function(){this.bookingId=this.$route.params.id},watch:{isSignedIn:function(t){t||this.addMessage({show:!0,message:"Please sign in to continue",class:"error"})}},methods:a({},Object(r["b"])(["addMessage","clearMessage","updateBooking"]),{saveBooking:function(){var t=this;if(this.isSignedIn){var e=this.booking;e.dayNumber=this.dayNumber;var n={booking:e,uid:this.signedInUser.id};this.updateBooking(n).then(function(){t.$router.push("/bookings")})}else this.addMessage({message:"Please sign in to continue!",class:"error"})},getTomorrow:function(t){var e=new Date(t);return e.setDate(e.getDate()+1),e.toISOString().substring(0,10)},countDay:function(t,e){var n=Math.round(e-t);return n<0?0:5<e-t?n+1:n},checkout:function(){if(this.isSignedIn){var t=this.booking;t.dayNumber=this.dayNumber,localStorage.setItem("booking",JSON.stringify(t)),this.$router.push("/checkout")}else this.addMessage({message:"Please sign in to continue!",class:"error"})}})},d=g,c=n("2877"),b=Object(c["a"])(d,o,i,!1,null,null,null);b.options.__file="BookingEdit.vue";e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d21a804.3410696f.js.map